import { createPDFReport } from './lib/pdf-export';

// –¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
const testData = {
  positionLevel: "Senior Business Analyst",
  questions: [
    {
      competency: "–ê–Ω–∞–ª—ñ–∑ –≤–∏–º–æ–≥",
      questions: [
        "–ß–∏ –º–∞—î—Ç–µ –≤–∏ –¥–æ—Å–≤—ñ–¥ –∑–±–æ—Ä—É —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É –±—ñ–∑–Ω–µ—Å-–≤–∏–º–æ–≥?",
        "–ß–∏ –≤–º—ñ—î—Ç–µ –≤–∏ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Å—Ç–µ–π–∫—Ö–æ–ª–¥–µ—Ä–∞–º–∏?",
        "–ß–∏ –∑–Ω–∞—î—Ç–µ –≤–∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—ó –∞–Ω–∞–ª—ñ–∑—É –≤–∏–º–æ–≥?"
      ],
      answers: [5, 4, 3]
    },
    {
      competency: "–ú–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—ñ–≤",
      questions: [
        "–ß–∏ –º–∞—î—Ç–µ –≤–∏ –¥–æ—Å–≤—ñ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥—ñ–∞–≥—Ä–∞–º –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—ñ–≤?",
        "–ß–∏ –∑–Ω–∞—î—Ç–µ –≤–∏ –Ω–æ—Ç–∞—Ü—ñ—ó BPMN –∞–±–æ UML?",
        "–ß–∏ –≤–º—ñ—î—Ç–µ –≤–∏ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å–∏?"
      ],
      answers: [4, 5, 4]
    },
    {
      competency: "–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏",
      questions: [
        "–ß–∏ –º–∞—î—Ç–µ –≤–∏ –¥–æ—Å–≤—ñ–¥ —Ä–æ–±–æ—Ç–∏ –≤ Agile/Scrum –∫–æ–º–∞–Ω–¥–∞—Ö?",
        "–ß–∏ –≤–º—ñ—î—Ç–µ –≤–∏ –ø–ª–∞–Ω—É–≤–∞—Ç–∏ —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å?",
        "–ß–∏ –∑–Ω–∞—î—Ç–µ –≤–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏?"
      ],
      answers: [3, 4, 2]
    }
  ]
};

// –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó
async function testPDFExport() {
  try {
    console.log("üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó createPDFReport...");
    
    const result = await createPDFReport(testData, "test-report.pdf");
    
    console.log("‚úÖ PDF —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ!");
    console.log("üìÑ –†–µ–∑—É–ª—å—Ç–∞—Ç (–ø–µ—Ä—à—ñ 100 —Å–∏–º–≤–æ–ª—ñ–≤):", result.substring(0, 100) + "...");
    
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —â–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —î base64 —Å—Ç—Ä–æ–∫–æ—é
    if (result.startsWith("data:application/pdf;base64,")) {
      console.log("‚úÖ –§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π (base64 PDF)");
    } else {
      console.log("‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É");
    }
    
  } catch (error) {
    console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:", error);
  }
}

// –ó–∞–ø—É—Å–∫–∞—î–º–æ —Ç–µ—Å—Ç
testPDFExport();